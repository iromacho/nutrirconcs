<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Cursor Death</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script type="importmap">
      {
        "imports": {
        }
      }
    </script>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <canvas id="game"></canvas>

    <div id="ui">
      <div id="startScreen">
        <div id="titleWrapper">
          <div id="titleTrail"></div>
          <div id="titleText">Cursor death</div>
        </div>
        <div id="subtitle"></div>
        <div id="clickToBegin">click to begin hell</div>

        <!-- Death count display -->
        <div id="deathCount"></div>

        <!-- Death mode toggle -->
        <div id="deathModeWrapper">
          <label id="deathModeLabel">
            <input type="checkbox" id="deathModeCheckbox" disabled />
            Death mode (survive 60s to unlock)
          </label>
        </div>

        <div id="leaderboard">
          <h2>longest survivors</h2>
          <div class="leaderboard-rows">
            <div class="leaderboard-row" id="leaderboardRow1"></div>
            <div class="leaderboard-divider"></div>
            <div class="leaderboard-row" id="leaderboardRow2"></div>
          </div>
          <!-- Text-only button to open full leaderboard -->
          <div>
            <span id="viewFullLeaderboardBtn">View full leaderboard</span>
          </div>
          <div>
            <span id="settingsBtn">Settings</span>
          </div>
          <!-- Owner-only tools (shown only for @rainbringer) -->
          <!-- removed owner cheat scan UI -->
        </div>
      </div>

      <div id="timer">00.00</div>

      <!-- Death screen overlay -->
      <div id="deathScreen">
        <div id="deathScreenInner">
          <div id="deathTimeLabel">your time</div>
          <div id="deathTimeValue">00.00</div>
          <div id="deathPlace">place: --</div>
          <div id="deathMessage"></div>
          <div id="deathClickHint">click to go back to main menu</div>
        </div>
      </div>

      <!-- Full leaderboard tab/modal -->
      <div id="fullLeaderboardModal" class="hidden-screen">
        <div id="fullLeaderboardContent">
          <div id="fullLeaderboardHeader">
            <span id="fullLeaderboardTitle">Full leaderboard</span>
            <button id="fullLeaderboardCloseBtn" aria-label="Close full leaderboard">×</button>
          </div>

          <div id="fullLeaderboardBody">
            <div id="fullLeaderboardTabs">
              <button id="fullLbTabNormal" class="flb-tab flb-tab-active">Normal</button>
              <button id="fullLbTabDeath" class="flb-tab">Death mode</button>
            </div>
            <div id="fullLeaderboardGlobalSection">
              <div class="full-leaderboard-section-title" id="fullLeaderboardSectionTitle">
                Top 100 survivors
              </div>
              <div id="fullLeaderboardList"></div>
              <div id="fullLeaderboardPagination">
                <button id="fullLeaderboardPrev" class="flb-page-btn">&lt;</button>
                <span id="fullLeaderboardPageInfo"></span>
                <button id="fullLeaderboardNext" class="flb-page-btn">&gt;</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Challenge modal -->
      <div id="challengeModal" class="hidden-screen">
        <div id="challengeContent">
          <div id="challengeHeader">
            <span id="challengeTitle">Leaderboard Rewards</span>
            <button id="challengeCloseBtn" aria-label="Close challenge">×</button>
          </div>
          <div id="challengeBody">
            <p>Top 3 Normal survivors and Top 3 Death mode survivors are getting free credits:</p>
            <p><strong>Normal mode</strong></p>
            <p>1st place – 3k<br>2nd place – 2k<br>3rd place – 1k</p>
            <p><strong>Death mode</strong></p>
            <p>1st place – 5k<br>2nd place – 4k<br>3rd place – 3k</p>
            <p>For these rewards support is required, so donate credits!</p>
          </div>
        </div>
      </div>

      <!-- Settings modal -->
      <div id="settingsModal" class="hidden-screen">
        <div id="settingsContent">
          <div id="settingsHeader">
            <span id="settingsTitle">Settings</span>
          <button id="settingsCloseBtn" aria-label="Close settings">×</button>
          </div>
          <div id="settingsBody">
            <div class="settings-section-title">Music</div>
            <div class="settings-row">
              <span class="settings-label">Music volume</span>
              <input
                id="settingsMusicRange"
                type="range"
                min="0"
                max="100"
                value="10"
              />
            </div>
            <div class="settings-row">
              <span class="settings-label">Music</span>
              <input
                id="settingsMusicFile"
                type="file"
                accept="audio/*"
              />
              <div class="file-input-row">
                <button type="button" id="settingsMusicFileButton" class="file-btn">
                  Insert File
                </button>
              </div>
            </div>

            <div class="settings-section-title">SFX</div>
            <div class="settings-row">
              <span class="settings-label">SFX volume</span>
              <input
                id="settingsSfxRange"
                type="range"
                min="0"
                max="100"
                value="100"
              />
            </div>

            <div class="settings-section-title">Gameplay</div>
            <div class="settings-row">
              <span class="settings-label">Show cursor hitbox</span>
              <input
                id="settingsHitboxCheckbox"
                type="checkbox"
              />
            </div>
            <div class="settings-row">
              <span class="settings-label">Timer display</span>
              <select id="settingsTimerStyle">
                <option value="classic">Classic</option>
                <option value="minutes">Minutes</option>
              </select>
            </div>
            <div class="settings-row">
              <span class="settings-label">Cursor image</span>
              <div class="file-input-row">
                <button type="button" id="settingsCursorFileButton" class="file-btn">
                  Cursor.png
                </button>
                <input
                  id="settingsCursorFile"
                  type="file"
                  accept="image/png"
                />
              </div>
            </div>

            <div class="settings-row settings-row-reset">
              <button type="button" id="settingsResetButton" class="file-btn">
                Reset to default
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Owner cheat scan modal (only for @rainbringer) -->
      <!-- removed owner cheat scan modal -->

    </div>

    <script type="module" src="main.js"></script>
  </body>
</html>

